\documentclass{article}

\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{amsthm}
\usepackage{hyperref}
\usepackage{bookmark}
% \usepackage{cochineal}
\usepackage[a4paper, margin=1in]{geometry}

% \usepackage{mathpazo} % math
% \usepackage{mathpx}
% \usepackage{fbb}
\usepackage{eulervm }
\usepackage{tikz-cd}
\usepackage{enumerate}

\usetikzlibrary{arrows.meta}
\newtheorem{theorem}{Theorem}
\newtheorem{lemma}[theorem]{Lemma}
\newtheorem{corollary}[theorem]{Corollary}
\newtheorem{proposition}[theorem]{Proposition}
\theoremstyle{definition}
\newtheorem{definition}[theorem]{Definition}
\newtheorem{example}[theorem]{Example}
\theoremstyle{remark}
\newtheorem{remark}[theorem]{Remark}

\hypersetup{
    colorlinks=true,
    linkcolor=blue,
    urlcolor=cyan,
    citecolor=red
}

\begin{document}

\title{Lang's Algebra Chapter 3 Solutions}
\author{Amanuel Tewodros}
\maketitle

% \tableofcontents

% commands

\newcommand{\size}[1]{|#1|}
\newcommand{\idx}[2]{[#1 : #2]}
\newcommand{\gen}[1]{\langle #1 \rangle}
\newcommand{\set}[1]{\{#1\}}
\newcommand{\normal}{\trianglelefteq}
\newcommand{\subgroup}{\leq}
\newcommand{\normalizer}[1]{\text{N}_{#1}}
\newcommand{\centerizer}{Z}
\newcommand{\aut}{\text{Aut}}
\newcommand{\inn}{\text{Inn}}
\newcommand{\syl}{\text{Syl}}
\newcommand{\sym}{\text{Sym}}
\newcommand{\alt}{\text{Alt}}
\newcommand{\id}{\text{id}}
\newcommand{\im}{\text{im}}
\newcommand{\orbit}[1]{\mathcal{O}_{#1}}
\newcommand{\ZZ}{\mathbb{Z}}
\newcommand{\C}[1]{\mathbb{Z}/#1\mathbb{Z}}
\newcommand{\iso}{\cong}
\newcommand{\dihedral}[1]{D_{#1}}
\newcommand{\dicyc}{\text{DiC}}
\newcommand{\hol}{\text{Hol}}
\newcommand{\I}[1]{\mathfrak{#1}} 
\newcommand{\Map}{\mathrm{Map}}
\newcommand{\nequiv}{\not \equiv}
\newcommand{\cat}[1]{\mathcal{#1}}
\newcommand{\Cat}{\mathcal{C}}
\newcommand{\Mor}{\text{Mor}}
\newcommand{\Ob}{\text{Ob}}
\newcommand{\End}{\text{End}}
\newcommand{\horline}{\noindent\rule{\textwidth}{1pt} \newline}
\newcommand{\Img}{\mathrm{Im}\ }
\newcommand{\Hom}{\mathrm{Hom}}
\newcommand{\fto}[1]{\overset{#1}{\to}}
\newcommand{\from}{\leftarrow}
\newcommand{\m}[1]{\mathfrak{#1}}
\newcommand{\dual}[1]{#1^{\vee}}
\newcommand{\ddual}[1]{#1^{\vee \vee}}
\newcommand{\rank}{\mathrm{rank}}
\newcommand{\tor}[1]{#1_{\mathrm{tor}}}
\newcommand{\dirlim}{\underrightarrow{\lim}}
\newcommand{\invlim}{\underleftarrow{\lim}}
\newcommand{\localize}[2]{{#1}^{-1}#2}
\newcommand{\Coker}{\mathrm{Coker\ } }

\begin{enumerate}[(1)]
	\item By the second isomorphism theorem,  we have 
    $$\dfrac{U}{U \cap W} \iso \dfrac{U + W}{W}.$$
    For two vector spaces, $X \supseteqq Y$ over a field $K$, we have $\dim X/Y = \dim X - \dim Y$. Thus $\dim U - \dim U \cap W = \dim U + W  - \dim W.$

    \item Let $M$ be a module over a commutative ring $R$. Let $I$ be a maximal ideal of $R$. We first show that for any proper ideal $\I a$ of $R$ and basis set $\set{x_1, x_2, \dots},$ of $M$,
    \begin{lemma}
        $$\frac{M}{\I aM} \iso \bigoplus_{i}\frac{A}{\I a}(x_i + \I ax_i).$$
    \end{lemma}
    \begin{proof}
        $\I aM$ is submodule of $M$ because $\I a M \subseteqq M$ by $R$-closure property of $\I a.$ It immedietly follows that $\I aM = \bigoplus_i \I a x_i.$ By linear independence of $x_i$, $\big(\sum_i r_ix_i\big) \mod \I ax_j = (r_j \mod \I a)x_j + \sum_{i \neq j} r_ix_i.$ Therefore, $M/\I a M = \bigoplus_i Ax_i/\I ax_i.$ By the isomorphism $x_i \mapsto 1_A \mapsto (x_i + \I  ax_i)$,  $Ax_i/\I ax_i \iso A/\I a \iso A/\I a ( x_i + \I ax_i).$
    \end{proof}

    Taking $\I a$ as a maximal ideal of $R$ in the above lemma, we see that $M/\I aM$ is a direct product of vector spaces over the field $A/\I a$ and thus admit a basis of the same cardinality  as that of $M$. Because the dimension of a vector space is independent of the basis choice, $M$ also has a fixed dimension.

    \item Let $\set{x_1, \dots, x_m}$ form the basis set of $R$ over $k$ and let $1_R = k_1x_1 + \dots k_mx_m$ for $k_i \in k.$ For any element $a \in R$, define the sequences $\set{y_1, \dots, y_m} \subseteqq k$, $\set{f_1, f_2, \dots, f_m} \subseteqq R$ as: 
        $$f_1 = a, \quad y_1 = w_{1,1}^{-1}k_1 $$
        $$f_{i+1} = f_iy_i - k_ix_i, \quad  y_{i} = k_iw_{i, i}^{-1},$$

    ,where $f_i = \sum_j w_{i, j}x_j.$ By construction, $a^{-1} = \sum_i y_ix_i.$ Thus $R$ is a field.

   
    \item  \textbf{Direct Sums}
    \begin{enumerate}[(a)]
        \item  First, we show the equivalence of the two statements of the theorem. Suppose there is $\varphi$ such that $g \circ \varphi = \id.$ By the injectivness of the composition,  $\Img \varphi \cap \ker g  = \set{0}.$ But by exactness, $\ker g = \Img f$. We can unambiguously define $\psi(u)$ to be the inverse image of $f^{-1}(u')$ where $u' \equiv u \mod \Img \varphi$ and $u' = f(x)$ for some $x \in M'$ because if $f(x) = f(y) \mod \Img \varphi$, $f(x - y) \in \Img \varphi$ and by injectivity of $f$, $x = y$.Since $M/\Img f \iso M'' =  \Img \varphi, \psi$ is defined in all of $M$. Similarly, if the second statement is true, $\ker \psi \cap \Img f = \set{0}$ because $\psi\circ f$ is injective. By exactness, $\Img f = \ker g$. We can then define $\varphi(u) = u'$ where $u' = y \mod \ker \psi$ and $g(y) = u$ for some $y$. $\varphi$ is well-defined because if $g(y_1) = g(y_2)$ for $y_1 \neq y_2$, then $y_1 \neq y_2 \mod \ker \varphi$.\\
        
        Now suppose $x \in M$. $x - \varphi(u) \in \Img f$ for exactly one $u$ by the argument mentioned previously. Thus we can express $x = r + s$ where $r = \varphi(u) \in \Img \varphi$ and $s = x - \varphi(u) \in \Img f$. This implies $M = \Img f \oplus \Img \varphi$. By bijectivness of $g \circ \varphi$, $\Img \varphi \iso M''$. By contrast, if $M = \Img f \oplus N$ for some $N$, with isomorphism $t: N \to M''.$ We can define $g: M \to M''$ as $g(u) = u'$ such that there is $u = y \mod N$ and $t^{-1}(u') = y$. This definition is unambiguous because $N \cap \Img f = \set{0}$. Since $g \circ t^{-1} = \id$, the sequence splits.\\



        Finally, we complete the details of proposition 3.2. We have just shown $M = \Img f \circ \Img \varphi.$ By exactness, $\Img f = \ker g$. Also, $\Img f \iso M'$ and $\Img \varphi \iso M''$ by injectivness of $f$ and $\varphi$ resp. This proves $M \iso M' \oplus M''.$ We can write $x \in M$ as $f(u) + x - f(u)$ where $x - f(u) \in \ker \psi$. $u$ is then uniquely determined by $x$ as $\ker \psi \cap \Img f = \set{0}$ by bijectivness of $\psi \circ f.$ This shows $M = \Img f \oplus \ker \psi.$

        \renewcommand{\phi}{\varphi}
        \item First, we note that $\phi_i$ is injective because othewise the composition $\psi_i \circ \phi_i$ wouldn't be injectice, a contradiction. This implies, for every valid $i$, there is a submodule $E'_i = \Img \phi_i$ of $E$ that is isomorphic to $E_i.$ Moreover, if $c \in \Img \phi_i \cap \Img \phi_j$ for $i\neq j$, then $\psi_i(c) = \psi_j(c) = 0$, forcing $c$ to be $0$. These statements prove
        
        $$\bigoplus_{i=1}^n E'_i \subseteqq E.$$
        The inverse inclusion follows as follows. Let $x \in E$, then $x = \sum_{i=1}^n \phi_i(\psi_i(x))$, but $\phi_i(\psi_i(x)) \in E_i'$. Therefore $x \in \bigoplus_i E_i'.$

        Let $x = x_1 +\cdots + x_m$ where $x_i \in E_i'$. The map definied by $x \mapsto (\psi x_i)_{1 \leq i \leq m}$ is therefore an isomorphism and the inverse map is given by $(\psi x_i)_i \mapsto \sum_i x_i.$
    \end{enumerate}
\item  Let $v_m' = a_1v_1 + \cdots + a_{m}v_{m}$. Since $a_m \neq 0$, $v_m'$, and by the assumption that $\set{v_i}$ is linearly independent over $\mathbb{R}$, the set $\set{v_1, \dots, v_{m-1}, v'_{m}}$ is linearly indepenedent over $\ZZ$. We also note that, $v_m' -  \sum_{i = 1}^{m-1} a_iv_i \in A$, thus we can safely assume $a_1 = \cdots = a_{m-1}= 0.$

To show, the set spans $A$, we consider  $A/A_0.$  Suppose, there is $av_m \in A/A_0$ such that $av_m \neq  nv'_m$ for all $ n \in \ZZ$. Let $r, s$ be two integers such that $|ra_m + sa| < a_m$.  Since contradicts minimality of $a_m$, it must be the case that $a_m \mid a.$. Therfore $A/A_0 = \ZZ v'_m.$ 

  \newcommand{\zmono}[1]{\ZZ\gen{#1}}
  \item We induct on the size of $S.$

        First assume that $S = \set{ w }$. Then $\zmono{S} = \set{n[w] : n \in \ZZ}$. If $M$ is a subgroup of $\zmono{S}$, then $M = \zmono{a[w]}$ for some $a \in \ZZ$. Here we pick $y_w = a[w]$ which is $G$-linear.

        For the induction step, suppose the statement is true for $S$, $0 \leq |S| \leq m - 1.$ We shall prove the statement is true for $S$ with $m$ elements. Fix on element $w \in S$, and consider projection map $\pi: \zmono S \to \zmono{G \cdot w}$. By correspondence, $\pi(M)$ is a subgroup of $\zmono{G \cdot w}$ with basis $\set{\bar y_{gw}}_{w \in G}$  which satisfy the property for $\sigma \in G$, $\sigma \bar y_{gw} = \bar y_{\sigma g w}$. We then lift the basis of $\zmono{\pi(M)}$ to $\zmono{S}$ by picking a representatives $\I R = \set{y_w}$ in $M$ for $\bar y_w$. The $y_w$ are linearly indepndenent thus form part of the basis for $M$. Again by hypothesis, $M \cap \zmono{S - G\cdot w}$ has basis $\I B = \set{y_w}_{w \in S - G \cdot w}$ that satisfy the given property. We finally combine $\I R$ and $\I B$ to get the basis of rank $m$ for $M$.

  \item
        For convenience, we identify the properties of a semi-norm as follows
        \begin{enumerate}[SN-1]
          \item $|v| \geq 0$ \label{sn1}
          \item $|nv| = |n||v|$ \label{sn2}
          \item $|u + v| \leq |u| + |v|$ \label{sn3}
        \end{enumerate}


        \begin{enumerate}[(a)]
          \item Let $a, b \in M_0$.  Then by SN-2 and SN-3, $|u - b| \leq |a| + |b| = 0$. By SN-1, we have $|a - b| \geq 0$, this $a - b \in M_0$. By SN-2, $|0| = |2 \cdot 0| = 2|0|.$ This implies $0 \in M_0.$ Hence $M_0$ is a subgroup of $M$.

          \item If $M_0 \neq \set 0$,  we can make the transformation $x \mapsto x + M_0$ without loss of generality as such map preserves the linear independence of $\set{v_i}$. Thus, we can assume $M_0 = \set 0.$

          Let $N = \gen{v_1, \dots, v_r}$. Since $M$ has rank $r$, the exponent $e$ of $M/N$ is finite and thus $eM$ is a subgroup of $N$. Moreover, $N/eM$ is torsion group with finite number of elements. Therefore, we can pick the smallest positive integers $n_{i, j}$ such that
                $$\sum_{j = 1}^i n_{i, j}v_j = dw_i \quad \text{for some }  w_i \in M$$

                The linear independence follows immediately. Picking $n_{j, k}$ in the range $[0, d - 1]$,
                $$d |w_i| = |dw_i| \leq \sum_{j = 1}^i n_{i, j}|v_j| \leq d\sum_{j = 1}^i |v_j| .$$
        \end{enumerate}

  \item
        \begin{enumerate}[(a)]
          \item SN-1 follows immediately because $\log \geq 0$ for all $\ZZ^+$. Since, $h(x^{-1}) = h(x)$, it suffices to prove SN-2 for $n \geq 0$ in which case  $h(x^n) = \log \max(|a^n|, |b^n|) = \log \max(|a|, |b|)^n = n \log \max(|a|, |b|) = nh(x)$. Finally, if $y = c/d$,  $h(xy) = h(ac/bd)$. Let $e = \gcd(a, d)$ and $f = \gcd(c, b).$  Then
                %$$h(xy) = = $

                \begin{eqnarray*}
                  h(xy) & = & \log \max(|\frac{ac}{ef}|, |\frac{bd}{ef}|) \\
                  & = & \log \big(\frac{1}{|ef|}(\max(|ac|, |bd|))\big) \\
                  & = & \log \max(|ac|,  |bd|) - \log |ef| \\
                        & \leq &  \log \max(|ac|, |bd|) \\
                  & \leq & \log \max(|a|, |b|) + \log \max(|c|, |d|)
                \end{eqnarray*}

        \newcommand{\QQ}{\mathbb{Q}}
            Hence SN-3 is satisfied. $\log \max(|a|, |b|) = 0$ if and only if $|a| = |b| = 1$, which makes the kernel of $\ker h = \set{\pm 1}$.
          \item  For a given rational number $x = a/b$, since there are finitely many prime divisors of $p, q$ such that $p | a$ and $q | b$, $M$ can be generated by the set $\set{-1, 1} \cup \set{p, 1/q \in \QQ^* : p | \text{the numerator of } x_1 \cdots x_m, q | \text{the denominator of } x_1 \cdots x_m }$. From this we can set upper bound on the norm as
                $$h(y) \leq \sum_{p} \log p$$
          where the sum is over all primes $p$ (not necassarily distinct) that divides the numerator or denominator of $x_i$ for some $i$.
       \end{enumerate}
  \item
        \begin{enumerate}[(a)]
          \item $\localize{S}{M}$ can be defined as a subset of $M \times S$  for a commutative ring $A$, a multiplicative subset $S$ and $A$-module $M$ such that
                $$(m_1, s_1) \sim (m_2, s_2)$$,
                if there is a an element $s \in S$ that satisfy the equation $s(s_2m_1 - s_1m_2) = 0$. As with $\localize{S}{A}$, we can denote $(m, s)$ with $m/s.$
                Since $\localize SA$ is a commutative ring, we can define the action of $\localize SA$ on $\localize SM$ as
                $$\frac{a}{s'}\cdot \frac{m}s = \frac{a \cdot m}{s' s}.$$

                With this definition of the action of $\localize SA$  on $\localize SM$, we can show that $\localize SM$ is an $\localize SA$-module. Let $a_1/b_1, a_2/b_2 \in \localize SA$ and let $m_1/s_1, m_2/s_2 \in \localize SM$. Then we have
                \begin{eqnarray*}
                  \frac{a_1}{b_1} \cdot \bigg( \frac{m_1}{s_1} + \frac{m_2}{s_2}  \bigg) & = &  \frac{a_1}{b_1} \cdot \bigg( \frac{m_1s_2 + m_2s_1}{s_1s_2} \bigg)\\
                                                                                          & = & \frac{a_1b_1}{b_1b_1} \cdot \bigg(\frac {m_1s_2 + m_2s_1}{s_1s_2} \bigg) \\
                                                                                          & = &  \frac{a_1b_1s_2m_1 + a_1b_1s_1m_2}{b_1s_1b_1s_2} \\
                                                                                          & = &  \frac{a_1m_1}{b_1s_1} + \frac{a_1m_1}{b_1s_2} \\
                                                                                          & = &  \frac{a_1}{b_1}\cdot \frac{m_1}{s_1} + \frac{a_1}{b_1}\cdot \frac{m_2}{s_2}.  \\
                \end{eqnarray*}

                and

                \begin{eqnarray*}
                  \bigg( \frac{a_1}{b_1} + \frac{a_2}{b_2} \bigg) \cdot \frac{m_1}{s_1}  & = &  \bigg( \frac{a_1b_2 + a_2b_1}{b_1b_2} \bigg) \cdot  \frac{m_1}{s_1} \\
                                                                                          & = &  \bigg(\frac {a_1b_2 + a_2b_1}{a_1a_2} \bigg) \cdot \frac{m_1s_1}{s_1s_1}  \\
                                                                                          & = &  \frac{a_1b_2m_1s_1 + a_2b_1m_1s_1}{s_1b_1s_2b_2} \\
                                                                                          & = &  \frac{a_1m_1}{b_1s_1} + \frac{a_2m_1}{b_2s_1} \\
                                                                                          & = &  \frac{a_1}{b_1}\cdot \frac{m_1}{s_1} + \frac{a_2}{b_2}\cdot \frac{m_1}{s_1}.  \\
                \end{eqnarray*}

          \item Let

                $$0 \to M' \fto{f} M \fto{f''} M'' \to 0$$
                be exact. Then we have the induced sequence,
                $$0 \to \localize SM' \fto{g} \localize SM \fto{g''} \localize SM'' \to 0, $$
                where $g$ is defined as $g(m/s) = f(m)/s$ and $g''$ is defined as $g''(m/s) = f''(m)/s.$ $\ker g  = \set{m/s : f(m)/s = 0}.$ Since $f$ is injective, $f(m) = 0$ iff $m = 0$,i.e., $\ker g = \set{0}.$

                By exactness $\Img f  = \ker f''.$ Evaluating $g''$ on $\Img g$,  $g''(g(m/s)) = g''(f(m)/s) = f''(f(m))/s = 0/s =0$. This shows $\Img g \subseteqq \ker g''.$ Let $g''(x/s) = f''(x)/s  = 0.$ This implies $f''(x) = 0$ for some $x$. By exactness, $\ker f \subseteqq \Img f''$, implying $x = f(y)$ for some $y \in M'.$ This proves $\Img g \supseteqq \ker g''.$

                Finally, let $x/s \in \localize SM''.$ Since $x \in M''$, $x = f''(y)$ for some $y \in M$ by exactness of the first sequence. But then $x/s = f''(y)/s = g''(y/s)$ making $g''$ surjective.
        \end{enumerate}

        \item
        \begin{enumerate}[(a)]
          \item The natural map under consideration is the map
                $$f =  x \mapsto \big(x/1, \dots \big).$$

                \newcommand{\Ann}{\mathrm{Ann}}
                If $x/s' \sim 0/1$, for some $s' \in A -\I p$ and $x \in M$,  then it means $sx = 0$ for some $s \in A - \I p.$ Therefore, the kernel of $f$ is the set $\set{x : sx = 0, \text{for some }s \in A - \I p \text{ for all maximal ideals } \I p}.$ If $x \in \ker f$, then $\Ann(x)$ is not contained in any maximal ideal $\I p$, implying $\Ann(x) = A \implies x = 0$.



                \newcommand{\p}{\I p}
                \newcommand{\h}[1]{\hat{#1}}
          \item Let $f: M'' \to M$ and $\h f: M''_\p \to M_\p$. Define $g$ and $\h g$ similarly for the second halves of the sequences.

                \begin{itemize}
                  \item[($\implies$)] This directly follows from part (b) of exercise 9.
                  \item[($\impliedby$)] Suppose $0 \to M'_p \to M_\p \to M''_\p$ is exact sequence for all primes $\p$.

                        Let $f(x) = 0$, then  $\h f(x/s) = f(x)/s = 0/1$ for all $s \in \p$. By exactness, $\h f$ is injective. thus $x/s = 0$. By similar reasoning as part (a) of this problem $x = 0$. Hence $f$ is injective.

                        Now let $gf(x) = n$. By definition, $\h g \h f(x/s) = n/s$. By exactness, the left-hand side is $0$. Thus $s'n = 0$ for $s' \in \p$ for all prime $\p$. Again, by similar reasoning as part (a), $n$ has to be $0$ and $\Img f \subseteqq \ker g$. To see the converse, suppose $g(y) = 0$. Consequently, $\h g(y/s) =  g(y)/s = 0$ for all $s \in \p$ and  by exactness,  $y/1 = \h f(x/t_\p) = f(x)/t_\p$ for some $t_\p$ depending on $\p$. This implies $s_\p(f(x) - t_\p y) = 0$ or equivalently $f(s_\p x) = r_\p y$ for some $x \in M'_\p$ and $r_\p = s_\p t_\p$ implying $r_\p y \in \Img f$ for all prime $\p$. Since $M/\Img f$ is also an $A$-module, it implies $r_\p(x + \Img f) = 0$ for all $\p$ implying $x + \Img f = 0 + \Img f$ or in other words, $x \in \Img f$. This proves $\Img f  = \ker g.$

                        Finally, suppose $y \in M''$. By surjectivity of $\h g$, $y/1 = \h g(x/s) = g(x)/s$ for some $x \in M$. By definition, $s_\p(g(x) - t_\p y) = 0.$ By similar argument as above, $y \in \Img g$, proving the exactness of the first sequence.

                \end{itemize}

                \item Let $\phi: M \to M_\p$ be the natural map in question. Then $\phi(x) = x/1$. If $\phi(x) = 0$, then $sx = 0$ for some $s \in A - \p$. This contradicts the assumption $M$ is torsion-free and since $0 \notin A - \p$, $x = 0$.
        \end{enumerate}

        \newcommand{\ip}{\I p}
        \newcommand{\io}{\I o}
        \textbf{Projective modules over Dedekind rings}
  \item
            Let $\mathfrak{o}$ be a Dedekind domain, and let $M$ be a finitely generated torsion-free $\mathfrak{o}$-module.
            For each prime ideal $\mathfrak{p}$, consider the localization $\mathfrak{o}_{\mathfrak{p}}$ and the localized module $M_{\mathfrak{p}}$.

            Since $\mathfrak{o}_{\mathfrak{p}}$ is a Dedekind domain with only one prime ideal $S^{-1}\mathfrak{p}$, by the result from the previous chapter it is a PID.
            Finite generation and torsion-freeness of $M_{\mathfrak{p}}$ follow from the corresponding properties of $M$, and Theorem~7.3 then implies that $M_{\mathfrak{p}}$ is a free $\mathfrak{o}_{\mathfrak{p}}$-module (and hence projective).

            Now let $F$ be a free $\mathfrak{o}$-module, and suppose there is a surjective homomorphism
            \[
            f: F \twoheadrightarrow M.
            \]
            Localizing at $\mathfrak{p}$, we obtain a surjective map
            \[
            f_{\mathfrak{p}}: F_{\mathfrak{p}} \twoheadrightarrow M_{\mathfrak{p}}.
            \]
            Since $M_{\mathfrak{p}}$ is projective, there exists a homomorphism
            \[
            g_{\mathfrak{p}}: M_{\mathfrak{p}} \to F_{\mathfrak{p}}
            \]
            such that
            \[
            f_{\mathfrak{p}} \circ g_{\mathfrak{p}} = \mathrm{id}_{M_{\mathfrak{p}}}.
            \]

            Because $M$ is finitely generated, say by $m_1,\dots,m_r$, each $g_{\mathfrak{p}}(m_i/1) \in F_{\mathfrak{p}}$ can be written with a denominator not in $\mathfrak{p}$.
            Let $c_{\mathfrak{p}} \in \mathfrak{o} \setminus \mathfrak{p}$ be the product of all these denominators for $i=1,\dots,r$.
            Then
            \[
            c_{\mathfrak{p}}\, g_{\mathfrak{p}}\big(l_{\mathfrak{p}}(M)\big) \subseteq F,
            \]
            where $l_{\mathfrak{p}}: M \to M_{\mathfrak{p}}$ is the localization map.

            We claim that the set $\{c_{\mathfrak{p}} : \mathfrak{p} \ \text{prime}\}$ generates the unit ideal $(1)$.
            Indeed, if this ideal were proper, it would be contained in some maximal ideal $\mathfrak{m}$; but then $c_{\mathfrak{m}} \in \mathfrak{m}$, contradicting $c_{\mathfrak{m}} \notin \mathfrak{m}$.
            Thus there exist primes $\mathfrak{p}_1, \dots, \mathfrak{p}_n$ and elements $x_1,\dots,x_n \in \mathfrak{o}$ such that
            \[
            \sum_{i=1}^n x_i\, c_{\mathfrak{p}_i} = 1.
            \]

            Define
            \[
            g := \sum_{i=1}^n x_i\, c_{\mathfrak{p}_i} \cdot g_{\mathfrak{p}_i} \circ l_{\mathfrak{p}_i} : M \to F.
            \]
            This is well-defined since each $c_{\mathfrak{p}_i} g_{\mathfrak{p}_i}(l_{\mathfrak{p}_i}(M)) \subseteq F$.

            For $m \in M$, we have
            \[
            f(g(m))
            = \sum_{i=1}^n x_i\, c_{\mathfrak{p}_i} \, f(g_{\mathfrak{p}_i}(m/1))
            = \sum_{i=1}^n x_i\, c_{\mathfrak{p}_i} \, (m/1)
            = \left(\sum_{i=1}^n x_i\, c_{\mathfrak{p}_i}\right) m
            = 1 \cdot m
            = m.
            \]
        Thus $f \circ g = \mathrm{id}_M$, showing that $M$ is a direct summand of $F$ and hence projective.


  \item

        \newcommand{\ia}{\I a}
        \newcommand{\ib}{\I b}
        \newcommand{\ic}{\I c}
        \begin{enumerate}[(a)]
          \item Define a map $\ia \oplus \ib \to \io$ as

                $$ (a, b) \mapsto ca + b,$$

                where $c$ is as defined in question 19 of chapter II. Since $c\ia$ and $\ib$ are coprime the image of this map is $\io$. The kernel of this map which is given by $c\ia \cap \ib \supseteq c\ia\ib$ also satisfies the reverse inclustion because for $d \in c\ia \cap \ib$, we can write $d = d(ca + b) = ca\cdot d + d\cdot a \in c\ia \ib$. Therefore, kernel is $c\ia \ib.$ Since the map $\ia ib \to c\ia\ib$ is bijective, and $\io$ is fintely generated and torsion-free (thus free), it follows that

                $$\ia \oplus \ib \iso \io \oplus \ia \ib$$

          \item
                First we show that $f = m_c$ for some $c \in K$. Let $a_1, a_2 \in \ia.$ For fixed elements, $a_1, a_2$, we can assume $f(a_1) = c_1a_1$ and $f(a_2) = c_2a_2$ for $c_1, c_2\in K$ since both $\ia$ and $\ib$ are contained in the field $K$. By the definition of fractional ideals, there is an element $c \in \io$ such that $ca_1, ca_2 \in \io$ and $ca_1a_2 \in \ia$. By the $\io$-linearlity $f$ and by commuitivity of $K$, $f(ca_1a_2) = ca_1f(a_2) = ca_2f(a_1) \implies c_1 = c_2$. Thus $f = m_c$. This also proves $\ib = c\ia$ for some $c \in K$.


                We can define an extension of $f$, $f_K$, in $K$ as $f_K(x) = f_K(a^{-1}ax) = a^{-1}xf_K(a) = a^{-1}f(a)x = cx.$ $f_K$ is clearly $K$-linear and agrees with $f$ on $\ia$.
                \begin{remark}
                  Lang takes for granted that the assumption that there exists a $K$-linear map $f_K$. This is not obvious and we have just proved that in fact there exists a $K$-linear map that is an extenstion of $f$.
                \end{remark}

          \item
                The assertion that $m_b$ is an element of $\dual{\ia}$ follows directly from the inclusion $b\ia \subseteq \ia^{-1} \ia = \io.$ This implies $\ia^{-1} \subseteq \dual{\ia}$. We show the reverse inclusion holds.

                Let $\phi \in \dual{\ia}$. By the previous subproblem, it suffices to show that $\phi(\ia)$ is an ideal of $\io$. Since $\phi(\ia)$ is a $\io$-submodule of $\io$, $\phi(\ia)$ is an additve subgroup of $\io$. For $a, b \in \ia$, by properties of $\io$-homomorphism $\phi$, $\phi(\phi(a)b) = \phi(a)\phi(b) \in \phi(\ia)$. Finally,
                for $c \in \io$, $c\phi(\ia) = \phi(c\ia) \subseteq \phi(a)$ where the last inclusion followed from the definition of fractional ideals.

                Thus, we have $\phi(\ia) = c\ia$ where $c = \phi_K(1)$. $c$ has to be a member of $\ia^{-1}$ because otherwise $c\io + \ia^{-1}$ would be an inverse of $\ia$ making $\ia^{-1}$ non-unqiue, a contradiction in Dedekind domains.

    \end{enumerate}
        \item \begin{enumerate}[(a)]
                \item
                      $M$ should be torsion-free. Otherwise, by projectivity of $M$, for some free module $F \supseteq M$ and any surjective $\io$-homomorphism $f: F \to M$, there is a correspoding $g: M \to F$ such that $f \circ g = \id_M$. If non-zero $x \in M$ is a torision element, say with exponent $a \in \io$, then $0 = g(ax) = ag(x) \in F$ implying either $a = 0$ or $g(x) = 0$. Since $f(g(x)) = x \neq 0$, it follows $a = 0$, proving $M$ is torsion free.

                      Localizing $M$ at any prime ideal $\ip$ of $\io$, we see that the module $M_\ip$ is a PID that is torsion-free and finity generted. This makes $M_\ip$ free. Let $M_\ip = \bigoplus_{i=1}^n \io_\ip m_i$. By finiteness of $m_i$, there is an element $c \in \io$ such that $cm_i \in M$ for all $i$. We then find $F'$ as

                      $$F' = \bigoplus_{i = 1}^n \io (cm_i)  \subseteq M.$$

                      Now, let $\{v_1, \dots, v_k\}$ be the generators of $M$ and let
                      $$v_i = \sum_{j = 1}^n r_j^{(i)}m_i.$$
                      Pick $d \in \io$ such that $dr_j^{(i)} \in \io$ which exists by the finiteness of $r_j^{(i)}$. It follows that $dM \subseteq \bigoplus_{i = 1}^n \io m_i$ and that
                      $$M \subseteq \bigoplus_{i = 1}^{n} \io (\frac{1}d m_i) = F.$$

                      The equality $\rank\ F = \rank\ F'$ immediately follows.

                \item
                      Let $\frac{1}d m_i = e_i$ in the proof of (b).  We prove the statement by inducting on the number of basis elements, $n$.

                      When $n = 1$,  then define $\ia_1 = \set{a : ae_1 \in M}$. This subset of $\io$ is an ideal of $\io$ because if $m = ae_1$ for some $a$, then $rae_1 = rm \in M$ for any $r \in \io$.

                      For the induction step, suppose $N$ is a submodule of $M$ spanned by $e_1, \dots. e_{n-1}.$ By induction hypothesis, $N = \bigoplus_{i=1}^{n-1} \ia_ie_i$. Consider the exact sequence
                      $$ 0 \to N \to M \to M/N \to 0.$$

                      Since $\rank\ M/N = \rank\ M - \rank\ N = 1$, and by the projectivity of $M/N$, the induction follows.

                \item
                      The statement that $M \iso \io^{n-1}\oplus \ia$ for some ideal $\ia$ follows immediately from part (b) of this problem and part (a) of problem 12.

                      \newcommand{\Pic}{\mathrm{Pic}}
                      Let $F: K_o(\io) \to \Pic(\io)$ be the given association. First, we show that this association is a group homomorphism. By the linear independece of $F$ (as defined in (a)), the
                      'decomposition' of $M$ in terms of $\ia_i$ is unique. Thus, $\ia = \ia_1 \cdots \ia_n$ is uniquely determined by $M$, making $F$ a well-defined mapping.

                      Consider $M, N$ are two finite projective modules. Then $F(M) + F(N) = \io^{n-1} \oplus \ia \oplus \io^{m-1}\oplus \ib = \io^{n-m-2} \oplus \ia \oplus \ib = \io^{n-m+1}\oplus \ia \ib = F(M \oplus N).$ Thus $F$ is a group homomorphism.

                      Let $M \in \ker F$. Then, $F(M) = \io$. This implies $M = \io^{n}$ is free which is a single equivalence class in $K_0(A)$. Therefore, $M = [0]$. Finally, taking $M$ as any ideal $\ia$ of $\io$ as $\io$-module, we see that $F(M) = \ia$, making $F$ surjective and thus an isomorphism.

        \end{enumerate}

        \textbf{A few snakes}
  \item

        Let $M' \fto{\phi'} M \fto{\phi}  M'' \to 0$ and let $0 \to N' \fto \psi' N \fto \psi N''$ be the two exact sequence in the diagram.
        \begin{enumerate}[(a)]
          \item Let $g(x) = 0$. By commutitivity, $\psi(gx) = h(\phi x) =  0$. By the injectivity of $h$, $\phi(x) = 0$. By exactness of the top sequence, $x = \phi'(y)$ for $y \in M'$. By commutitivity of the diagram, $0 = g(\phi' y) = \psi'(fy)$. By exactness of the bottom sequence $f(y) = 0$. By the injectivity of $f$, then $y = 0$ and its image under $\psi'$, $x$ is also $0$. This proves $g$ is a mono-morphism.

          \item Let $x \in N$. Then $\psi x \in N''$. By surjectivity of $h$ and $\phi$, there is an element $y \in M$ such that $h(\phi y) = \psi x$. By commutitivity, it follows that $\psi x = \psi(g y)$ and consequently $x - g y \in \ker \psi$. By exactness, $x - g y = \psi' z$ for some $z \in N'$ and by surjectivity of $f$, $x - g y = \psi'(f w)$ for some $w \in M'$. By commutitivity, it follows that $x - gy = g(\phi' w)$ or $x = g(y + \phi' w)$, implying $x \in \Img g$ ($g$ is surjective).

          \item If $f$ and $h$ are isomorphims, then $g$ is isomporphims by (a) and (b) of this problem.

                Consider $g$ and $h$ are isomorphims, i.e., $\ker g = \ker h = \Coker g = \Coker h = 0$. By the snake lemma, there is a map $\ker h \to \Coker f $ showing $f$ is surjective. By injectivity of the map $M' \to M$, $\ker f \to \ker g$ is injective, making $\ker f = 0$. Hence, $f$ is an isomorphism.

                Now suppose $f$ and $g$ are isomorphisms. By the snake lemma, $\ker g \to \ker h \to \Coker f$ is exact. Since $\ker g  = \Coker f = 0$, $\ker h = 0$. Similarly, by the exactness of the sequence $\Coker g \to \Coker h \to 0$, $\Coker h = 0$.
        \end{enumerate}

  \item We denote the module homomorphimsm as follows:
                \[\begin{tikzcd}
          {M_1} & {M_2} & {M_3} & {M_4} & {M_5} \\
          {N_1} & {N_2} & {N_3} & {N_4} & {N_5}
          \arrow["\alpha", from=1-1, to=1-2]
          \arrow["{f_1}", from=1-1, to=2-1]
          \arrow["\beta", from=1-2, to=1-3]
          \arrow["{f_2}", from=1-2, to=2-2]
          \arrow["\gamma", from=1-3, to=1-4]
          \arrow["{f_3}", from=1-3, to=2-3]
          \arrow["\delta", from=1-4, to=1-5]
          \arrow["{f_4}", from=1-4, to=2-4]
          \arrow["{f_5}", from=1-5, to=2-5]
          \arrow["{\alpha'}", from=2-1, to=2-2]
          \arrow["{\beta'}", from=2-2, to=2-3]
          \arrow["{\gamma'}", from=2-3, to=2-4]
          \arrow["{\delta'}", from=2-4, to=2-5]
        \end{tikzcd}\]

        We apply the snake lemma on the following diagram:
        \[\begin{tikzcd}
          0 & {\beta M_2 } & {M_3} & {\gamma M_3} & 0 \\
          0 & {\beta' N_2} & {N_3} & {\gamma' N_3} & 0
          \arrow[from=1-1, to=1-2]
          \arrow[from=1-2, to=1-3]
          \arrow["{f_3|_{\beta M_2}}", from=1-2, to=2-2]
          \arrow[from=1-3, to=1-4]
          \arrow["{f_3}", from=1-3, to=2-3]
          \arrow[from=1-4, to=1-5]
          \arrow["{f_4|_{\gamma M_3}}", from=1-4, to=2-4]
          \arrow[from=2-1, to=2-2]
          \arrow[from=2-2, to=2-3]
          \arrow[from=2-3, to=2-4]
          \arrow[from=2-4, to=2-5]
        \end{tikzcd}\]


        Exacteness  of the top and bottom sequence and commutitivity of the diagram follow immediately. By the snake lemma, we have the short exact sequence:
      $$0 \to \ker f_3|_{\beta M_2} \to \ker f_3 \to \ker f_4|_{\gamma M_3} \to \Coker f_3|_{\beta M_2} \to \Coker f_3 \to \Coker f_4|_{\beta M_3} \to 0 $$
        \begin{enumerate}[(a)]
          \item

                By assumption $\ker f_4|_{\gamma M_3} = 0$. Thus, it suffices to show that $\ker f_3|_{\beta M_2} = 0$.

                Let $x \in \ker f_3|_{\beta M_2}$. Then $x = \beta(y)$ for some $y \in M_2$. By commutitivity, we have $0 = f_3(\beta y) = \beta'(f_2 y)$, implying $f_2y \in \ker \beta' =  \alpha' N_1$ where the last equality follows from the exactness of the bottom sequence. Since $f_1$ is surjective, there is an element $z \in M_1$ such that $\alpha' (f_1z) = f_2 (\alpha z) = f_2 y.$ By injectivity of $f_2$, $y = \alpha(z) \implies x = \beta(\alpha z) = 0$. Hence $f_3$ is injective.
          \item
                Let $x = \beta'(y) \in \beta' N_2$. By surjectivity of $f_2$, $y = f_2(z)$ for some $z \in M_2$. By commutitivity, $\beta'(y) = f_3(\beta z) \in f_3\beta M_2 \implies \Coker f_3|_{\beta M_2} = 0$. Hence, it suffices to prove that $\Coker f_4|_{\gamma M_3} = 0$.

                Now let $x = \gamma'(y)$ for some $y \in N_3$. By exactness $x \in \ker \delta'$. By surjectivity of $f_4$, there is  $f_4(z) =  x$ and by commutitivity $0 = \delta'(f_4z) = f_5(\delta z)$. Since $f_5$ is injective, $\delta z = 0 \implies z \in \ker \delta  = \gamma M_3$ where the last equality followed from the exactness of the top sequence. Hence $x \in f_4|_{\gamma M_3}$ and $\Coker f_4|_{\gamma M_3} = 0$. This proves the statement.
        \end{enumerate}
        \begin{remark}
          The diagram-chasing argument is more direct and arguably a better proof. I provided this proof as a practice on the application of the snake lemma.
        \end{remark}
\textbf{Inverse limits}
  \item
        Let $I$ be a directed set and let $\{A_i\}_{i \in I}$ be a system of simple groups with surjective homomorphisms $f_{ij}: A_i \to A_j$ for every $j \leq i$. By the first isomorphism theorem we have $A_{j} = A_i/N$ for some nomral subgroup $N$ of $A_i$. By simplicity of each $A_i$, it follows that either $A_i = 0$ or $A_i = A_j$ for all $j \leq i$ (or both). There are two types of such families of groups that could arise:
        \begin{enumerate}
          \item[Case 1]: All $A_i = 0$. In this case, $\invlim A_i = 0$.
          \item[Case 2]: $A_i = 0$ for all $i < n$ and $A_i = A$ for all $n \leq i$ for some $n \in I$. In this case $f_{ij}$ is an isomorphism for $j \geq n$ and the elements of $\invlim A_i$ have the form $(0, \dots, 0, x_n, f_{n+1, n}^{-1}x_n, \dots) \sim x_n \in A$. In other words, $\invlim A_i \iso A$ which is simple.
        \end{enumerate}
  \item
        \begin{enumerate}[(a)]
          \item
                The set of positive integers is inherently directed by $<$. We define $f_{ij} = \pi_{ij}:A_i \to A_j$ by $\pi([x]_{p^i}) = [x]_{p^j}$. Let $k \geq j \geq i \in \ZZ^+$. Then we have $\pi_{ji} \circ \pi_{kj}(x) = [[x]_{p^j}]_{p^i} = [x]_{p^i} = \pi_{ki}(x)$ and trivially $\pi_{ii} = \id$. Hence, $\ZZ/p^n\ZZ$ form a projective system under $(\pi_{ij})$.

                Let $\ZZ_p = \invlim \ZZ/p^i\ZZ$ along with the morphisms $\psi_i: \ZZ_p \to \ZZ / p^{i}\ZZ$.  Consider the projection maps $\mu_i:\ZZ \to \ZZ/p^{i}\ZZ$. Then $\pi_{ij} \circ \mu_i(x) = \pi_{ij}([x]_{p^{i}}) = [x]_{p^j} = \mu_j(x)$. By universality of $\ZZ_p$, there is a unique morphism $\phi$ from $\ZZ \to \ZZ_p$ such that $\psi_i \circ \phi = \mu_i$. By definition, $\mu_i$ are surjective. Hence $\psi_i$ is surjective.

                We use induction to show that $\ZZ_p$ has no divisors of 0. Let $(x_1, x_2, \dots), (y_1, y_2, \dots)$ are non zero elements of $\ZZ_p$ such that their product is $0$. This implies
                \[ x_iy_i = 0 \mod p^{i} \text{ for all } i.\]
                For $i = 1$, then by the field properties of $\ZZ/p\ZZ$, either $x_1 = 0$ or $y_1 = 0$. With out loss of generality, let $x_1 = 0$.

                Now suppose $x_i = 0 \mod p^{i}$ for all $i \leq n-1$ and $x_n \neq 0 \mod p^n$. Since $x_n y_n = 0 \mod p^n$ and $x_{n-1} = 0 \mod p^{n-1}$, $x_n = r_1p^{n-1} \mod p^n$ for some $r_1$ not divisble by $p$. On the other hand, $y_i = s_1p \mod p^n$ for $s_1 \neq 0 \mod p^{n-1}$ otherwise all $y_i = 0 \mod p^i$ for all $i \leq n$ and the induction step is fullfilled. Similary, we can deduce that
                \[ x_{2n-1} = r_1p^{n-1} + \cdots + r_np^{2n-1} \mod p^{2n-2} \quad \text{and} \quad  y_{2n-1} = s_1p + s_2p^{n} + \cdots s_np^{2n-2} \mod p^{2n- 1} \]

                Note tha we didn't assume $r_i, s_i \neq 0$ for $i \geq 2$. The product $x_{2n-2}y_{2n-2}$ reduces to $r_1s_1p^{n} \mod p^{2n-1}$. Since $x_{2n-1}y_{2n-1} = 0 \mod p^{2n-1}$,
                and $p \nmid r_1$ by assumptions $p^{n-1}\mid s_1$ and $y = 0 \mod p^{n}$ a contradiction. Thus $p \mid r_1$ and $x_n = 0 \mod p^n$.

                Since $x_i = 0$ for all $i$ by induction, it implies $(x_1, x_2, \dots) = 0$ and $\ZZ_p$ has no zero divisors itself.

                Next we show that $\ZZ_p$ has a unique maxmial ideal generated by $p = (0, p, p, \dots)$. To show that the ideal $\ia$ generated by $p$ is maximal consider the quotient group $\ZZ_p /\ia$. Since $\ZZ/p^j\ZZ / (0, p, \dots)\ZZ_p \iso \ZZ/p\ZZ$, the quotien group $\ZZ_p/\ia$ is (isomorphic to) a subgroup of $\ZZ/p\ZZ \times \ZZ/p\ZZ \cdots$ that satisifes the projective system of morphisms $\pi'_{ij} = \id$. Therefore, by surjectivity of $\psi_i$,  $\ZZ_p/\ia$ is isomorphic to $\mathbb F_p$ which is a field and thus $\ia$ is maximal.

                To see that $\ia$ is unique, note that if $(x_1, x_2, \dots) \in \ib$ for some proper ideal $\ib$ of $\ZZ_p$ and if $x_1 \neq 0$, then $x = (x_1, x_2, \dots)$ is a unit whose inverse is $(x_1^{p-2}, x_2^{p^2-p-1}, \dots )$. Therefore, any proper ideal of $\ZZ_p$ should have its first component of its elements equal to $0$. This implies $x_i = px$ for all $i \geq 2$ which implies $\ib = 0 \mod \ia$ implying $\ia$ is unique.

                Finally, to see that $\ZZ_p$ is a factorial ring, we show that it is a PID. Let $\ib$ be an ideal of $\ZZ_p$. Then every component of $\ib$ must be an ideal in its domain. But ideals in $\ZZ/p^n\ZZ$ are PIDs say with generators $y_n$ (resp.). Then $\ib$ is generated by $(y_1, y_2, \dots)$. $p$ is the only prime of $\ZZ_p$ because otherwise an ideal generated by another prime in PID is maximal which contradicts the uniqueness of $p\ZZ_p$.

          \item By the chinese remainder theorem, there is a homomorhism $k: \prod_p \ZZ_p \to \invlim \ZZ/a\ZZ$ such that $a$-th component of $y = k(x)$ is the solutions for equation $y_a = x_n \mod p^n$ for all $p^n \mid a$ and $p^{n+1} \nmid a, n \geq 1.$ $y= 0$ iff $y_p = 0 \mod p$ for all $p$ which is impossible. Hence $k$ is injective. By the uniquness of the solution $y_a$ given the projective system, $k$ is also surjective. Hence $k$ is an isomorphism.
        \end{enumerate}


  \item
        \begin{enumerate}[(a)]
          \item
                Trivially, we define the action of $\invlim A_i$ on $\invlim M_i$ as the component-wise action of $A_i$ on $M_i$. This action is well-defined by the commutitivity of the diagram. The module properties $\invlim M_i$ as a $\invlim A_i$-module follow directly from the module properties of $M_i$ as an $A_i$-module.
          \item
                By section chapter I, \textsection{10}, $T_p(M) = \invlim_i \ker p_M^n $ where $p_M: M \to M$ is the multiplication by $p$ mapping from $M$ onto itself. We can define the action of $\ZZ /p^{i+1} \ZZ$ on $M$ by multiplication of $[x]_{p^{i+1}}$.  We also note that for some $m \in M$, $[x]_{p^{i}} m = [x]_{p^{i}}m + kp_M^{i}m = [x]_{p^{i}}m + kp^im = [x]_{p^{i+1}}m$. Therefore, if we take $A_i = \ZZ/p^i\ZZ$ in part (a) of this question, the diagram commutes and $T_p(M)$ is a module over $\invlim \ZZ/p^i\ZZ = \ZZ_p.$

          \item

                 By (a) and (b) and the distrbutivity of mulriplication by $p$, $T_p(M \oplus N)$ is a $\ZZ_p$-module and so is $T_p(M) \oplus T_p(N)$. There is a homomorphism between the former and the later defined by $(m_1 + n_1, \dots) \mapsto (m_1, \dots) + (n_1, \dots).$
        \end{enumerate}

  \noindent \textbf{Direct limits}

  \item
        By definition, if $a_k = 0$ for all $k$, the $a \sim 0$ which implies $f_{ij}(a) = f_{kj}(0) = 0$ for all $j \geq n$ for some $n \in I$.

  \item
        Let $\{f_{(a, b), (c, d)}\}_{(a, b), (c, d) \in I \times I}$ be the given $I \times I$-indexed direct family of morphisms.  Let $f_{ij}^k = f_{(k, i), (k, j)} : A_{ki} \to A_{kj}$ and $g^{k}_{ij}  = f_{(i, k), (j, k)}: A_{ik} \to A_{jk}$. By definition $\set{f^k_{ij}}$ and $\set{g^k_{ij}}$ form a direct family of morphisms. Let $A^{(i)} = \lim_j A_{ij}$ and let $N^{(i)}$ be an ideal/normal subgroup generated by the elements
        $$x_{jk} =  (0, \dots, 0, x, \dots, 0, -f^{i}_{jk}(x), 0, \dots),$$

        where $x$ and $-f_{jk}(x)$ are the at the $j$-th and $k$-th components of $x_{jk}$ resp. Let $[x]_i = x \mod N^{i}$.  Define the map $\mu_{ij}: A^{(i)} \to A^{(j)}$ by
        $$\mu_{ij}([x]_i) = [g_{ij}^k(x)]_j,$$
        where $x \in A_{rk}$ for some $r$. Then $\mu_{ii}([x]_i) = [g^k_{ii}(x)]_i = [x]_i$ and for $i < m < j $
        \begin{eqnarray*}
          \mu_{ij}([x]_i) & = & [g^k_{ij}(x)]_j \\
                          & = & [g^k_{mj} \circ g^k_{im} (x)]_j\\
                          & = & \mu_{mj}([g^k_{im}(x)]_m)\\
                          & = & \mu_{mj} \circ \mu_{im} ([x]_i).
        \end{eqnarray*}
        Hence $\set{\mu_{ij}}$ form a direct family of morphism and $\lim_i \lim_j A_{ij}$ exists. By symmetry $\lim_j \lim_i A_{ij}$ also exists.

        Now suppose $A$ is the group of infinite dimensional matrices $\set{a_{ij}}$ where $a_{ij} \in A_{ij}$ under component-wise group operation, and let $N$ be the ideal generated by the matrices
        $$X_{ijkl} =
        \begin{bmatrix}
          0 & \dots & 0 & \dots & 0 &  0  & \dots  \\

          \vdots & \ddots & \vdots & \ddots & \vdots & \vdots & \ddots \\

          0 & \dots & x & \dots  & 0 & 0 & \dots  \\

          \vdots & \ddots & \vdots & \ddots & \vdots & \vdots & \ddots \\

          0 & \dots & 0  & \dots &  -f^k_{ij}(g^l_{ik} x) & 0 & \dots \\

          \vdots & \ddots & \vdots & \ddots & \vdots & \vdots & \ddots \\

        \end{bmatrix}
        $$

        where $i \leq j$ and $i \leq k$ and $x$ is the $(i, l)$-th entry and $-f^k_{ij}(g^l_{ik} x) = -g^{l}_{ik}(f^{i}_{lj} x)$ is the $(k, j)$-th entry of $X_{ijkl}$. From the descrption above, it is clear that both direct limits are naturally isomorphic to $A/N$.

        The case for inverse limits is also similar. Let $\{f_{(a, b), (c, d)}\}_{(a, b), (c, d) \in I \times I}$ be the given $I \times I$-indexed direct family of morphisms.  Let $f_{ij}^k = f_{(k, i), (k, j)} : A_{ki} \to A_{kj}$ and $g^{k}_{ij}  = f_{(i, k), (j, k)}: A_{ik} \to A_{jk}$ for all $j \leq i$. Let $A^{(i)} = \invlim_j A_{ij}$ with projections $\pi_j^{(i)}: A^{(i)} \to A_{ij}$, $(\dots, x_j, \dots) \mapsto x_j$. Then there are maps $\nu_{ijk}: A^{(i)} \to A_{kj}$ for some $k \leq i$ and all $j \in I$ defined by
        $$\nu_{ijk}(x) = g^{j}_{ik}(\pi^{(i)}_j (x)).$$

        By universality, there is a unique map $\nu_{ik} : A^{(i)} \to A^{(k)}$ for fixed $i,k$ such that $\nu_{ijk} = \pi_j^{(k)} \circ \nu_{ik}.$ We see that these maps are defined as
        $$\nu_{ik}(x_0, x_1, \dots) \mapsto (g^{0}_{ik}(x_0), g^{1}_{ik}(x_1), \dots).$$

        Since, $g^{j}_{ik}$ form a directed family of morphisms, $A^{(i)}$ form a directed family and thus posses an inverse limit. By symmetry, $\invlim_i\invlim_j A_{ij}$ also exists. For fixed $i \leq k, j \leq l$, since $g^{j}_{ki} \circ f^{k}_{lj}  = f^{i}_{lj} \circ g^{l}_{ki}$, the two inverse limits are naturally isomorphic.

  \item
        The $u_i$ and $v_i$ commute with the direct family of morphisms of $M'_i, M_i$ and $M_i, M''_i$ resp., we can define the maps between limits unambiguously as maps that send representative $[x] \mapsto [u_i(x)]$ and $[y] \mapsto [v_i(y)]$ where $x \in M'_i$ and $y \in M_i$. Let
        $$0 \to \lim M' \fto  u \lim M \fto v \lim M'' \to 0.$$

        and let $f_{ij}$, $g_{ij}$ and $h_{ij}$ be the directed family of morphisms of $M'_i, M_i$ and $M_i''$ resp. If $[x] \in \ker u$, the $g_{ij}(u_i(x)) = 0$ for some $i, j$. By commutitivity, this implies $u_j(f_{ij}(x)) = 0$. By exactness, $u_j$ is injective and $f_{ij}(x) = 0 \implies [x] = 0$. Thus $u$ is injective.

        Similarly, if $[x] \in \ker v$, then $h_{ij}(v_i(x)) = 0 = v_j(g_{ij}(x))$ by commutitivity. Since $\ker v_j = \Img u_j$, $g_{ij}(x) = u_j(y)$ for some $y \in M'_j$. It directly follows that $u([y]) = [x]$ and thus $[x] \in \Img u \implies \ker v \subseteq \Img u$. For the reverse inclusion, let $[x] = u([y])$. Then $g_{kj}(x) = u_j(f_{ij}(y))$ for some $i, k \leq j$. By exactness, $v_j(g_{kj}(x)) = 0$ or $[x] \in \ker v$.

        Finally, $[x] \in \lim M''$, then $h_{ij}(x) = v_j(y)$ for some $y \in M_j''$ by surjectivity of $v_j$. It immediately follows $v([y]) = [x]$, proving the direct limit preserves the exactness of a sequence

  \item
        All constructed maps are homomorphisms inherently.
        \begin{enumerate}[(a)]
          \item
                Let $f \in \Hom(\bigoplus M_i, N)$ and let $f_i = f|_{M_i}: M_i \to N$, $x \mapsto f(x)$. By definition, $f = (f_i)$ and hence $f \in \prod_i \hom(M_i, N)$. Now, let $f_i \in \Hom(M_i, N)$. Define $f: \bigoplus M_i \to N$ by $f((x_i)) = \sum_i f_i(x_i)$. Therefore $\prod_i \Hom(M_i, N) \subseteq \Hom(\bigoplus M_i, N).$

          \item
                Let $f \in \Hom(N, \prod M_i)$ and let $\pi_j: \prod M_i \to M_j$ projection map to the $j$-th component. By definition, $f = (f \circ \pi_i)_i \in \prod_i \Hom(M_i, N), $ implying the forward inclusion. Let $f_i: N \to M_i$. Similarly to the previous subproblem, define $f(x) = (f_i(x)) \in \Hom(N, \prod_i M_i)$.
        \end{enumerate}


  \item
        Let ${f_{ij}}$ be the directed family of morphism of $\set{M_i}$. Then the induced morphism $\phi_{ij}: g \to f_{ij} \circ g$ form a directed family morphisms for $\Hom(N, M_i)$ because

        $$\phi_{ii}(g) =  f_{ii} \circ g = \id \circ g = g \quad \text{and}$$
        $$\phi_{jk}(g) =  f_{jk} \circ g = f_{ik} \circ f_{ji} \circ g = f_{ik} \circ \phi_{ji}(g) = \phi_{ik} \circ \phi_{ji}(g), k \leq i \leq j.$$

        Hence, the inverse limit $\invlim_i \Hom(N, M_i)$ exists. Let $\pi_j : \invlim M_i \to M_j$ be the natural projection map to the $j$-th component.

        If $(g_i) \in \invlim \Hom(N, M_i)$, then $g_i = \phi_{ji}(g_j) = f_{ij} \circ g_j$ for all $j \geq i$. This is isomorphic to a morphism in $\Hom(N, \invlim M_i)$ naturally as $(g_i)(x)$ satisfies $g_i(x) = f_{ij}(g_j(x))$ making the image of $(g_i)$ a subset of $\invlim M_i$.  Thus $\invlim_i \Hom(N, M_i) \subseteq \Hom(N, \invlim_i M_i)$.

        Similarly, for any $f \in \Hom(N, \invlim_i M_i)$, define $f_i: N \to M_i$ by $f_i(x) = \pi_j(f(x))$. Then $(f_i)_i \in \invlim_i \Hom(N, M_i)$.

  \item
        Let index set $I$ be the set of all fintely generated submodules of $M$ orderd by inclusion. For $A, B \in I$, $\{f_{AB}: A \to B\}$ be a family of morphisms indexed by $I$ defined by $f_{AB} = i_{AB}$, the canonical inclusion of $A$ into $B$. Clearly, this family is directed and admits a direct limit. Since $M = \bigsqcup_{A \in I} A/ \sim$, We can express $M$ as a direct limit of fintely generated submodules.
\end{enumerate}
\end{document}
